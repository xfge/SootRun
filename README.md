# SootRun
基于 Soot 改写的用于解析 APK 获得布局字符串的 Java 程序

## 配置
1. 在 Intellij IDEA 中 git clone 本项目。
2. 配置 JDK；在 Project Structure 中添加 /lib 下的 jar 文件。
3. 运行 `Main.java`，在运行配置时给命令添加参数，参数格式在 cmd 文件中。

## TODO
1. 当前程序简单地匹配 apktool 反编译结果中 /layout 文件夹下文件的名称，（这部分代码就在 `Main.java` 中）
    * 如果含有 fragment/activity 字符串则认为是“完整页面的 layout”，
    * 如果含有 item/row 则认为是“列表表项的 layout”。
    * （后续匹配将会根据这两者进行可能性组合，不在此程序中处理。）
2. 检查上述规则是否能应用于“大多数”程序。如果不能，可能在哪些地方进行修改。
3. ★ 选取若干带有典型页面的 APK 例子来跑程序，并确定那些典型页面是否被解析到输出文件中。
    * 即，它们的文件名能否被按照上述规则归类，如果不能，记录下来。
    * 过程中把归类较好且容易拼接（完整页面、表项的 layout 都成功获取且较为准确）的页面及其对应 APK 也记录下来。
    * 注意，每个被解析完成的布局字符串也可能出错（比如控件类型归类错误），如果发现这类错误也记录下来。
4. 如果时间有限，“找到更多适合用于实验的 APK” is better than “检查更多 APK”。
5. GOOD LUCK!